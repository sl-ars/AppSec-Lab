{% extends 'base.html' %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h3>All Notes</h3>
  <div class="d-flex gap-2 align-items-center">
    <a class="btn btn-outline-secondary" href="/export">Export my notes</a>
    <form class="d-flex align-items-center" method="post" action="/import" enctype="multipart/form-data" style="gap:8px;">
      <label class="btn btn-outline-primary mb-0" for="import-file">Import</label>
      <input id="import-file" name="file" type="file" accept=".b64,.pkl,.txt" style="display:none;">
      <button type="submit" class="btn btn-warning">Upload</button>
    </form>

    <a class="btn btn-success" href="/note/create">+ New Note</a>
  </div>
</div>
<table class="table table-striped">
  <thead>
    <tr><th>ID</th><th>Title</th><th>User</th><th></th></tr>
  </thead>
  <tbody>
  {% for n in notes %}
    <tr>
      <td>{{ n.id }}</td>
      <td><a href="/note/{{n.id}}">{{ n.title }}</a></td>
      <td>{{ n.user_id }}</td>
      <td>
        <a href="/note/{{n.id}}/edit" class="btn btn-sm btn-outline-primary">Edit</a>
        <form class="d-inline" method="post" action="/note/{{n.id}}/delete">
          <button class="btn btn-sm btn-outline-danger">Delete</button>
        </form>
      </td>
    </tr>
  {% endfor %}
  </tbody>
</table>
<hr>

{% endblock %}